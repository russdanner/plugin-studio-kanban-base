const e=craftercms.libs.React,{useState:t,useEffect:n}=craftercms.libs.React,r=craftercms.libs.React&&Object.prototype.hasOwnProperty.call(craftercms.libs.React,"default")?craftercms.libs.React.default:craftercms.libs.React,{createRoot:o}=craftercms.libs.ReactDOMClient,{CrafterCMSNextBridge:i}=craftercms.components,{useSelector:a,useDispatch:c}=craftercms.libs.ReactRedux,{createAction:s}=craftercms.libs.ReduxToolkit,{fetchSandboxItem:u}=craftercms.services.content;function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}var p={exports:{}};function h(){}function d(){}d.resetWarningCache=h;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e){return"/"===e.charAt(0)}function v(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}p.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:d,resetWarningCache:h};return n.PropTypes=n,n}();var g="Invariant failed";function b(e,t){if(!e)throw new Error(g)}function x(e){return"/"===e.charAt(0)?e:"/"+e}function w(e){return"/"===e.charAt(0)?e.substr(1):e}function S(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function E(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function O(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function C(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=m({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&y(e),a=t&&y(t),c=i||a;if(e&&y(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var s=o[o.length-1];n="."===s||".."===s||""===s}else n=!1;for(var u=0,f=o.length;f>=0;f--){var l=o[f];"."===l?v(o,f):".."===l?(v(o,f),u++):u&&(v(o,f),u--)}if(!c)for(;u--;u)o.unshift("..");!c||""===o[0]||o[0]&&y(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function $(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var P=!("undefined"==typeof window||!window.document||!window.document.createElement);function R(e,t){t(window.confirm(e))}var _={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+w(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:w,decodePath:x},slash:{encodePath:x,decodePath:x}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function j(e){window.location.replace(A(window.location.href)+"#"+e)}function M(e){void 0===e&&(e={}),P||b(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var n=e,r=n.getUserConfirmation,o=void 0===r?R:r,i=n.hashType,a=void 0===i?"slash":i,c=e.basename?E(x(e.basename)):"",s=_[a],u=s.encodePath,f=s.decodePath;function l(){var e=f(T());return c&&(e=S(e,c)),C(e)}var p=$();function h(e){m(F,e),F.length=t.length,p.notifyListeners(F.location,F.action)}var d=!1,y=null;function v(){var e=T(),t=u(e);if(e!==t)j(t);else{var n=l(),r=F.location;if(!d&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(y===O(n))return;y=null,function(e){if(d)d=!1,h();else{var t="POP";p.confirmTransitionTo(e,t,o,(function(n){n?h({action:t,location:e}):function(e){var t=F.location,n=I.lastIndexOf(O(t));-1===n&&(n=0);var r=I.lastIndexOf(O(e));-1===r&&(r=0);var o=n-r;o&&(d=!0,k(o))}(e)}))}}(n)}}var g=T(),w=u(g);g!==w&&j(w);var M=l(),I=[O(M)];function k(e){t.go(e)}var L=0;function B(e){1===(L+=e)&&1===e?window.addEventListener("hashchange",v):0===L&&window.removeEventListener("hashchange",v)}var U=!1;var F={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=A(window.location.href)),n+"#"+u(c+O(e))},push:function(e,t){var n="PUSH",r=C(e,void 0,void 0,F.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=O(r),o=u(c+t);if(T()!==o){y=t,function(e){window.location.hash=e}(o);var i=I.lastIndexOf(O(F.location)),a=I.slice(0,i+1);a.push(t),I=a,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=C(e,void 0,void 0,F.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=O(r),o=u(c+t);T()!==o&&(y=t,j(o));var i=I.indexOf(O(F.location));-1!==i&&(I[i]=t),h({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return U||(B(1),U=!0),function(){return U&&(U=!1,B(-1)),t()}},listen:function(e){var t=p.appendListener(e);return B(1),function(){B(-1),t()}}};return F}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}var k={exports:{}},L=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};k.exports=q,k.exports.parse=U,k.exports.compile=function(e,t){return D(U(e,t),t)},k.exports.tokensToFunction=D,k.exports.tokensToRegExp=H;var B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(e,t){for(var n,r=[],o=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=B.exec(e));){var s=n[0],u=n[1],f=n.index;if(a+=e.slice(i,f),i=f+s.length,u)a+=u[1];else{var l=e[i],p=n[2],h=n[3],d=n[4],m=n[5],y=n[6],v=n[7];a&&(r.push(a),a="");var g=null!=p&&null!=l&&l!==p,b="+"===y||"*"===y,x="?"===y||"*"===y,w=n[2]||c,S=d||m;r.push({name:h||o++,prefix:p||"",delimiter:w,optional:x,repeat:b,partial:g,asterisk:!!v,pattern:S?W(S):v?".*":"[^"+N(w)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function F(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function D(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",V(t)));return function(t,r){for(var o="",i=t||{},a=(r||{}).pretty?F:encodeURIComponent,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var u,f=i[s.name];if(null==f){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(L(f)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var l=0;l<f.length;l++){if(u=a(f[l]),!n[c].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===l?s.prefix:s.delimiter)+u}}else{if(u=s.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(f),!n[c].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');o+=s.prefix+u}}else o+=s}return o}}function N(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function z(e,t){return e.keys=t,e}function V(e){return e&&e.sensitive?"":"i"}function H(e,t,n){L(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=N(c);else{var s=N(c.prefix),u="(?:"+c.pattern+")";t.push(c),c.repeat&&(u+="(?:"+s+u+")*"),i+=u=c.optional?c.partial?s+"("+u+")?":"(?:"+s+"("+u+"))?":s+"("+u+")"}}var f=N(n.delimiter||"/"),l=i.slice(-f.length)===f;return r||(i=(l?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=o?"$":r&&l?"":"(?="+f+"|$)",z(new RegExp("^"+i,V(n)),t)}function q(e,t,n){return L(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(e,t)}(e,t):L(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(q(e[o],t,n).source);return z(new RegExp("(?:"+r.join("|")+")",V(n)),t)}(e,t,n):function(e,t,n){return H(U(e,n),t,n)}(e,t,n)}var K={},G="function"==typeof Symbol&&Symbol.for,J=G?Symbol.for("react.element"):60103,Y=G?Symbol.for("react.portal"):60106,Q=G?Symbol.for("react.fragment"):60107,X=G?Symbol.for("react.strict_mode"):60108,Z=G?Symbol.for("react.profiler"):60114,ee=G?Symbol.for("react.provider"):60109,te=G?Symbol.for("react.context"):60110,ne=G?Symbol.for("react.async_mode"):60111,re=G?Symbol.for("react.concurrent_mode"):60111,oe=G?Symbol.for("react.forward_ref"):60112,ie=G?Symbol.for("react.suspense"):60113,ae=G?Symbol.for("react.suspense_list"):60120,ce=G?Symbol.for("react.memo"):60115,se=G?Symbol.for("react.lazy"):60116,ue=G?Symbol.for("react.block"):60121,fe=G?Symbol.for("react.fundamental"):60117,le=G?Symbol.for("react.responder"):60118,pe=G?Symbol.for("react.scope"):60119;function he(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case J:switch(e=e.type){case ne:case re:case Q:case Z:case X:case ie:return e;default:switch(e=e&&e.$$typeof){case te:case oe:case se:case ce:case ee:return e;default:return t}}case Y:return t}}}function de(e){return he(e)===re}K.AsyncMode=ne,K.ConcurrentMode=re,K.ContextConsumer=te,K.ContextProvider=ee,K.Element=J,K.ForwardRef=oe,K.Fragment=Q,K.Lazy=se,K.Memo=ce,K.Portal=Y,K.Profiler=Z,K.StrictMode=X,K.Suspense=ie,K.isAsyncMode=function(e){return de(e)||he(e)===ne},K.isConcurrentMode=de,K.isContextConsumer=function(e){return he(e)===te},K.isContextProvider=function(e){return he(e)===ee},K.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===J},K.isForwardRef=function(e){return he(e)===oe},K.isFragment=function(e){return he(e)===Q},K.isLazy=function(e){return he(e)===se},K.isMemo=function(e){return he(e)===ce},K.isPortal=function(e){return he(e)===Y},K.isProfiler=function(e){return he(e)===Z},K.isStrictMode=function(e){return he(e)===X},K.isSuspense=function(e){return he(e)===ie},K.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Q||e===re||e===Z||e===X||e===ie||e===ae||"object"==typeof e&&null!==e&&(e.$$typeof===se||e.$$typeof===ce||e.$$typeof===ee||e.$$typeof===te||e.$$typeof===oe||e.$$typeof===fe||e.$$typeof===le||e.$$typeof===pe||e.$$typeof===ue)},K.typeOf=he;var me={exports:{}},ye={},ve="function"==typeof Symbol&&Symbol.for,ge=ve?Symbol.for("react.element"):60103,be=ve?Symbol.for("react.portal"):60106,xe=ve?Symbol.for("react.fragment"):60107,we=ve?Symbol.for("react.strict_mode"):60108,Se=ve?Symbol.for("react.profiler"):60114,Ee=ve?Symbol.for("react.provider"):60109,Oe=ve?Symbol.for("react.context"):60110,Ce=ve?Symbol.for("react.async_mode"):60111,$e=ve?Symbol.for("react.concurrent_mode"):60111,Pe=ve?Symbol.for("react.forward_ref"):60112,Re=ve?Symbol.for("react.suspense"):60113,_e=ve?Symbol.for("react.suspense_list"):60120,Ae=ve?Symbol.for("react.memo"):60115,Te=ve?Symbol.for("react.lazy"):60116,je=ve?Symbol.for("react.block"):60121,Me=ve?Symbol.for("react.fundamental"):60117,Ie=ve?Symbol.for("react.responder"):60118,ke=ve?Symbol.for("react.scope"):60119;function Le(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ge:switch(e=e.type){case Ce:case $e:case xe:case Se:case we:case Re:return e;default:switch(e=e&&e.$$typeof){case Oe:case Pe:case Te:case Ae:case Ee:return e;default:return t}}case be:return t}}}function Be(e){return Le(e)===$e}ye.AsyncMode=Ce,ye.ConcurrentMode=$e,ye.ContextConsumer=Oe,ye.ContextProvider=Ee,ye.Element=ge,ye.ForwardRef=Pe,ye.Fragment=xe,ye.Lazy=Te,ye.Memo=Ae,ye.Portal=be,ye.Profiler=Se,ye.StrictMode=we,ye.Suspense=Re,ye.isAsyncMode=function(e){return Be(e)||Le(e)===Ce},ye.isConcurrentMode=Be,ye.isContextConsumer=function(e){return Le(e)===Oe},ye.isContextProvider=function(e){return Le(e)===Ee},ye.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ge},ye.isForwardRef=function(e){return Le(e)===Pe},ye.isFragment=function(e){return Le(e)===xe},ye.isLazy=function(e){return Le(e)===Te},ye.isMemo=function(e){return Le(e)===Ae},ye.isPortal=function(e){return Le(e)===be},ye.isProfiler=function(e){return Le(e)===Se},ye.isStrictMode=function(e){return Le(e)===we},ye.isSuspense=function(e){return Le(e)===Re},ye.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===xe||e===$e||e===Se||e===we||e===Re||e===_e||"object"==typeof e&&null!==e&&(e.$$typeof===Te||e.$$typeof===Ae||e.$$typeof===Ee||e.$$typeof===Oe||e.$$typeof===Pe||e.$$typeof===Me||e.$$typeof===Ie||e.$$typeof===ke||e.$$typeof===je)},ye.typeOf=Le;var Ue=me.exports=ye,Fe={};Fe[Ue.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fe[Ue.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function Ne(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var We=r.createContext||function(e,t){var n,o,i,a="__create-react-context-"+((De[i="__global_unique_id__"]=(De[i]||0)+1)+"__"),c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=Ne(t.props.value),t}l(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)?(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[a]=p.exports.object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((o={})[a]=p.exports.object,o),{Provider:c,Consumer:s}},ze=function(e){var t=We();return t.displayName=e,t},Ve=ze("Router-History"),He=ze("Router"),qe=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}l(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return r.createElement(He.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(Ve.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);r.Component,r.Component;var Ke={},Ge=0;function Je(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,c=void 0!==a&&a,s=n.sensitive,u=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ke[n]||(Ke[n]={});if(r[e])return r[e];var o=[],i={regexp:k.exports(e,o,t),keys:o};return Ge<1e4&&(r[e]=i,Ge++),i}(n,{end:i,strict:c,sensitive:u}),o=r.regexp,a=r.keys,s=o.exec(e);if(!s)return null;var f=s[0],l=s.slice(1),p=e===f;return i&&!p?null:{path:n,url:"/"===n&&""===f?"/":f,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=l[n],e}),{})}}),null)}var Ye=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return r.createElement(He.Consumer,null,(function(t){t||b(!1);var n=e.props.location||t.location,o=I({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Je(n.pathname,e.props):t.match}),i=e.props,a=i.children,c=i.component,s=i.render;return Array.isArray(a)&&function(e){return 0===r.Children.count(e)}(a)&&(a=null),r.createElement(He.Provider,{value:o},o.match?a?"function"==typeof a?a(o):a:c?r.createElement(c,o):s?s(o):null:"function"==typeof a?a(o):null)}))},t}(r.Component);r.Component;var Qe=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return r.createElement(He.Consumer,null,(function(t){t||b(!1);var n,o,i=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==o&&r.isValidElement(e)){n=e;var a=e.props.path||e.props.from;o=a?Je(i.pathname,I({},e.props,{path:a})):t.match}})),o?r.cloneElement(n,{location:i,computedMatch:o}):null}))},t}(r.Component);function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xe(e,t)}function Ze(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xe(e,t)}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(this,arguments)}function tt(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}r.useContext,r.Component;var nt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=M(t.props),t}return Ze(t,e),t.prototype.render=function(){return r.createElement(qe,{history:this.history,children:this.props.children})},t}(r.Component),rt=function(e,t){return"function"==typeof e?e(t):e},ot=function(e,t){return"string"==typeof e?C(e,null,null,t):e},it=function(e){return e},at=r.forwardRef;void 0===at&&(at=it);var ct=at((function(e,t){var n=e.innerRef,o=e.navigate,i=e.onClick,a=tt(e,["innerRef","navigate","onClick"]),c=a.target,s=et({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return s.ref=it!==at&&t||n,r.createElement("a",s)})),st=at((function(e,t){var n=e.component,o=void 0===n?ct:n,i=e.replace,a=e.to,c=e.innerRef,s=tt(e,["component","replace","to","innerRef"]);return r.createElement(He.Consumer,null,(function(e){e||b(!1);var n=e.history,u=ot(rt(a,e.location),e.location),f=u?n.createHref(u):"",l=et({},s,{href:f,navigate:function(){var t=rt(a,e.location),r=O(e.location)===O(ot(t));(i||r?n.replace:n.push)(t)}});return it!==at?l.ref=t||c:l.innerRef=c,r.createElement(o,l)}))})),ut=function(e){return e},ft=r.forwardRef;void 0===ft&&(ft=ut),ft((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,c=e.activeStyle,s=e.className,u=e.exact,f=e.isActive,l=e.location,p=e.sensitive,h=e.strict,d=e.style,m=e.to,y=e.innerRef,v=tt(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(He.Consumer,null,(function(e){e||b(!1);var n=l||e.location,i=ot(rt(m,n),n),g=i.pathname,x=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=x?Je(n.pathname,{path:x,exact:u,sensitive:p,strict:h}):null,S=!!(f?f(w,n):w),E="function"==typeof s?s(S):s,O="function"==typeof d?d(S):d;S&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,a),O=et({},O,c));var C=et({"aria-current":S&&o||null,className:E,style:O,to:i},v);return ut!==ft?C.ref=t||y:C.innerRef=y,r.createElement(st,C)}))}));const lt=a,pt=s("SHOW_EDIT_DIALOG"),ht=s("SHOW_PREVIEW_DIALOG");function dt(t){return e.createElement("div",{style:{textAlign:"center",margin:"50px auto"}},e.createElement("img",{src:"/studio/static-assets/images/content_creation.svg"}),e.createElement("h1",null,"CrafterCMS ❤ Trello"),e.createElement("h3",null,t.message))}function mt(r){r.match.params;var o=r.location.search,i=new URLSearchParams(o),a=i.get("contentId"),s=i.get("siteId"),f=c(),l=lt((function(e){return e.env.authoringBase})),p=t(null);p[0];var h=p[1];return n((function(){var e={siteId:s,contentId:a,authoringBase:l,dispatch:f};u(s,a,{castAsDetailedItem:!0}).subscribe({next:function(t){h(t),function(e,t){var n=t.siteId,r=t.contentId,o=t.authoringBase,i=t.dispatch;if("page"===e.systemType){var a=r.replace("/site/website/","").replace("index.xml","").replace(".xml",".html");window.location.href="/studio/preview#/?page="+a+"&site="+n}else-1!=r.indexOf("/site/")?i(pt({site:n,path:r,authoringBase:o,readonly:!0})):-1!=r.indexOf("/static-assets/")&&(-1!=r.indexOf(".png")||-1!=r.indexOf(".gif")||-1!=r.indexOf(".jpg")||-1!=r.indexOf(".jpeg")||-1!=r.indexOf(".svg")||-1!=r.indexOf(".webp")?window.craftercms.getStore().dispatch(ht({site:n,type:"image",url:r,authoringBase:window.craftercms.getStore().getState().env.authoringBase})):-1!=r.indexOf(".mp4")?window.craftercms.getStore().dispatch(ht({site:n,type:"video",url:r,authoringBase:window.craftercms.getStore().getState().env.authoringBase})):window.craftercms.getStore().dispatch(ht({site:n,type:"editor",url:r,authoringBase:window.craftercms.getStore().getState().env.authoringBase})))}(t,e)},error:function(){}})}),[s,a,l,f]),e.createElement(dt,{message:"OOPS! We don't recognize your preview request"})}function yt(){return e.createElement(e.Fragment,null,e.createElement(dt,{message:"OOPS! We don't recognize your request"}))}var vt=document.createElement("div"),gt=o(vt);document.body.appendChild(vt),gt.render(e.createElement(i,null,e.createElement((function(){return e.createElement(nt,null,e.createElement(Qe,null,e.createElement(Ye,{path:"/preview/:arg1?",component:mt}),e.createElement(Ye,{path:"/",exact:!0,component:yt})))}),null)));
