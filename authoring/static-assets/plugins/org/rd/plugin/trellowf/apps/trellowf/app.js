const e=craftercms.libs.React,{useState:t,useEffect:n}=craftercms.libs.React,r=craftercms.libs.React&&Object.prototype.hasOwnProperty.call(craftercms.libs.React,"default")?craftercms.libs.React.default:craftercms.libs.React,{createRoot:o}=craftercms.libs.ReactDOMClient,{CrafterCMSNextBridge:a}=craftercms.components,{useSelector:i,useDispatch:c}=craftercms.libs.ReactRedux,{createAction:s}=craftercms.libs.ReduxToolkit,{isImage:l}=craftercms.utils.content,{fetchSandboxItem:u}=craftercms.services.content,{List:f,ListItem:p,Dialog:m,DialogTitle:h,DialogContent:d,TextField:y,DialogActions:v,Button:g}=craftercms.libs.MaterialUI,b=craftercms.libs.MaterialUI.IconButton&&Object.prototype.hasOwnProperty.call(craftercms.libs.MaterialUI.IconButton,"default")?craftercms.libs.MaterialUI.IconButton.default:craftercms.libs.MaterialUI.IconButton,x=craftercms.utils.constants.components.get("@mui/icons-material/DeleteOutlineRounded")&&Object.prototype.hasOwnProperty.call(craftercms.utils.constants.components.get("@mui/icons-material/DeleteOutlineRounded"),"default")?craftercms.utils.constants.components.get("@mui/icons-material/DeleteOutlineRounded").default:craftercms.utils.constants.components.get("@mui/icons-material/DeleteOutlineRounded"),w=craftercms.libs.MaterialUI.ListItemAvatar&&Object.prototype.hasOwnProperty.call(craftercms.libs.MaterialUI.ListItemAvatar,"default")?craftercms.libs.MaterialUI.ListItemAvatar.default:craftercms.libs.MaterialUI.ListItemAvatar,E=craftercms.libs.MaterialUI.ListItemText&&Object.prototype.hasOwnProperty.call(craftercms.libs.MaterialUI.ListItemText,"default")?craftercms.libs.MaterialUI.ListItemText.default:craftercms.libs.MaterialUI.ListItemText,O=craftercms.libs.MaterialUI.Avatar&&Object.prototype.hasOwnProperty.call(craftercms.libs.MaterialUI.Avatar,"default")?craftercms.libs.MaterialUI.Avatar.default:craftercms.libs.MaterialUI.Avatar,S=craftercms.utils.constants.components.get("@mui/icons-material/PhishingRounded")&&Object.prototype.hasOwnProperty.call(craftercms.utils.constants.components.get("@mui/icons-material/PhishingRounded"),"default")?craftercms.utils.constants.components.get("@mui/icons-material/PhishingRounded").default:craftercms.utils.constants.components.get("@mui/icons-material/PhishingRounded"),{get:C}=craftercms.utils.ajax;function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P(e,t)}var R={exports:{}};function $(){}function A(){}A.resetWarningCache=$;function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function M(e){return"/"===e.charAt(0)}function T(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}R.exports=function(){function e(e,t,n,r,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A,resetWarningCache:$};return n.PropTypes=n,n}();var j="Invariant failed";function k(e,t){if(!e)throw new Error(j)}function U(e){return"/"===e.charAt(0)?e:"/"+e}function L(e){return"/"===e.charAt(0)?e.substr(1):e}function B(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function D(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function F(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function W(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=_({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&M(e),i=t&&M(t),c=a||i;if(e&&M(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var s=o[o.length-1];n="."===s||".."===s||""===s}else n=!1;for(var l=0,u=o.length;u>=0;u--){var f=o[u];"."===f?T(o,u):".."===f?(T(o,u),l++):l&&(T(o,u),l--)}if(!c)for(;l--;l)o.unshift("..");!c||""===o[0]||o[0]&&M(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function N(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var H=!("undefined"==typeof window||!window.document||!window.document.createElement);function V(e,t){t(window.confirm(e))}var q={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+L(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:L,decodePath:U},slash:{encodePath:U,decodePath:U}};function z(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function K(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function G(e){window.location.replace(z(window.location.href)+"#"+e)}function J(e){void 0===e&&(e={}),H||k(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var n=e,r=n.getUserConfirmation,o=void 0===r?V:r,a=n.hashType,i=void 0===a?"slash":a,c=e.basename?D(U(e.basename)):"",s=q[i],l=s.encodePath,u=s.decodePath;function f(){var e=u(K());return c&&(e=B(e,c)),W(e)}var p=N();function m(e){_(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}var h=!1,d=null;function y(){var e=K(),t=l(e);if(e!==t)G(t);else{var n=f(),r=C.location;if(!h&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(d===F(n))return;d=null,function(e){if(h)h=!1,m();else{var t="POP";p.confirmTransitionTo(e,t,o,(function(n){n?m({action:t,location:e}):function(e){var t=C.location,n=x.lastIndexOf(F(t));-1===n&&(n=0);var r=x.lastIndexOf(F(e));-1===r&&(r=0);var o=n-r;o&&(h=!0,w(o))}(e)}))}}(n)}}var v=K(),g=l(v);v!==g&&G(g);var b=f(),x=[F(b)];function w(e){t.go(e)}var E=0;function O(e){1===(E+=e)&&1===e?window.addEventListener("hashchange",y):0===E&&window.removeEventListener("hashchange",y)}var S=!1;var C={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=z(window.location.href)),n+"#"+l(c+F(e))},push:function(e,t){var n="PUSH",r=W(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=F(r),o=l(c+t);if(K()!==o){d=t,function(e){window.location.hash=e}(o);var a=x.lastIndexOf(F(C.location)),i=x.slice(0,a+1);i.push(t),x=i,m({action:n,location:r})}else m()}}))},replace:function(e,t){var n="REPLACE",r=W(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,o,(function(e){if(e){var t=F(r),o=l(c+t);K()!==o&&(d=t,G(o));var a=x.indexOf(F(C.location));-1!==a&&(x[a]=t),m({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return S||(O(1),S=!0),function(){return S&&(S=!1,O(-1)),t()}},listen:function(e){var t=p.appendListener(e);return O(1),function(){O(-1),t()}}};return C}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}var Q={exports:{}},X=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};Q.exports=se,Q.exports.parse=ee,Q.exports.compile=function(e,t){return ne(ee(e,t),t)},Q.exports.tokensToFunction=ne,Q.exports.tokensToRegExp=ce;var Z=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ee(e,t){for(var n,r=[],o=0,a=0,i="",c=t&&t.delimiter||"/";null!=(n=Z.exec(e));){var s=n[0],l=n[1],u=n.index;if(i+=e.slice(a,u),a=u+s.length,l)i+=l[1];else{var f=e[a],p=n[2],m=n[3],h=n[4],d=n[5],y=n[6],v=n[7];i&&(r.push(i),i="");var g=null!=p&&null!=f&&f!==p,b="+"===y||"*"===y,x="?"===y||"*"===y,w=n[2]||c,E=h||d;r.push({name:m||o++,prefix:p||"",delimiter:w,optional:x,repeat:b,partial:g,asterisk:!!v,pattern:E?oe(E):v?".*":"[^"+re(w)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function te(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function ne(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",ie(t)));return function(t,r){for(var o="",a=t||{},i=(r||{}).pretty?te:encodeURIComponent,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var l,u=a[s.name];if(null==u){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(X(u)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<u.length;f++){if(l=i(u[f]),!n[c].test(l))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===f?s.prefix:s.delimiter)+l}}else{if(l=s.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):i(u),!n[c].test(l))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+l+'"');o+=s.prefix+l}}else o+=s}return o}}function re(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function oe(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function ae(e,t){return e.keys=t,e}function ie(e){return e&&e.sensitive?"":"i"}function ce(e,t,n){X(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",i=0;i<e.length;i++){var c=e[i];if("string"==typeof c)a+=re(c);else{var s=re(c.prefix),l="(?:"+c.pattern+")";t.push(c),c.repeat&&(l+="(?:"+s+l+")*"),a+=l=c.optional?c.partial?s+"("+l+")?":"(?:"+s+"("+l+"))?":s+"("+l+")"}}var u=re(n.delimiter||"/"),f=a.slice(-u.length)===u;return r||(a=(f?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=o?"$":r&&f?"":"(?="+u+"|$)",ae(new RegExp("^"+a,ie(n)),t)}function se(e,t,n){return X(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ae(e,t)}(e,t):X(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(se(e[o],t,n).source);return ae(new RegExp("(?:"+r.join("|")+")",ie(n)),t)}(e,t,n):function(e,t,n){return ce(ee(e,n),t,n)}(e,t,n)}var le={},ue="function"==typeof Symbol&&Symbol.for,fe=ue?Symbol.for("react.element"):60103,pe=ue?Symbol.for("react.portal"):60106,me=ue?Symbol.for("react.fragment"):60107,he=ue?Symbol.for("react.strict_mode"):60108,de=ue?Symbol.for("react.profiler"):60114,ye=ue?Symbol.for("react.provider"):60109,ve=ue?Symbol.for("react.context"):60110,ge=ue?Symbol.for("react.async_mode"):60111,be=ue?Symbol.for("react.concurrent_mode"):60111,xe=ue?Symbol.for("react.forward_ref"):60112,we=ue?Symbol.for("react.suspense"):60113,Ee=ue?Symbol.for("react.suspense_list"):60120,Oe=ue?Symbol.for("react.memo"):60115,Se=ue?Symbol.for("react.lazy"):60116,Ce=ue?Symbol.for("react.block"):60121,Pe=ue?Symbol.for("react.fundamental"):60117,Ie=ue?Symbol.for("react.responder"):60118,Re=ue?Symbol.for("react.scope"):60119;function $e(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case fe:switch(e=e.type){case ge:case be:case me:case de:case he:case we:return e;default:switch(e=e&&e.$$typeof){case ve:case xe:case Se:case Oe:case ye:return e;default:return t}}case pe:return t}}}function Ae(e){return $e(e)===be}le.AsyncMode=ge,le.ConcurrentMode=be,le.ContextConsumer=ve,le.ContextProvider=ye,le.Element=fe,le.ForwardRef=xe,le.Fragment=me,le.Lazy=Se,le.Memo=Oe,le.Portal=pe,le.Profiler=de,le.StrictMode=he,le.Suspense=we,le.isAsyncMode=function(e){return Ae(e)||$e(e)===ge},le.isConcurrentMode=Ae,le.isContextConsumer=function(e){return $e(e)===ve},le.isContextProvider=function(e){return $e(e)===ye},le.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===fe},le.isForwardRef=function(e){return $e(e)===xe},le.isFragment=function(e){return $e(e)===me},le.isLazy=function(e){return $e(e)===Se},le.isMemo=function(e){return $e(e)===Oe},le.isPortal=function(e){return $e(e)===pe},le.isProfiler=function(e){return $e(e)===de},le.isStrictMode=function(e){return $e(e)===he},le.isSuspense=function(e){return $e(e)===we},le.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===me||e===be||e===de||e===he||e===we||e===Ee||"object"==typeof e&&null!==e&&(e.$$typeof===Se||e.$$typeof===Oe||e.$$typeof===ye||e.$$typeof===ve||e.$$typeof===xe||e.$$typeof===Pe||e.$$typeof===Ie||e.$$typeof===Re||e.$$typeof===Ce)},le.typeOf=$e;var _e={exports:{}},Me={},Te="function"==typeof Symbol&&Symbol.for,je=Te?Symbol.for("react.element"):60103,ke=Te?Symbol.for("react.portal"):60106,Ue=Te?Symbol.for("react.fragment"):60107,Le=Te?Symbol.for("react.strict_mode"):60108,Be=Te?Symbol.for("react.profiler"):60114,De=Te?Symbol.for("react.provider"):60109,Fe=Te?Symbol.for("react.context"):60110,We=Te?Symbol.for("react.async_mode"):60111,Ne=Te?Symbol.for("react.concurrent_mode"):60111,He=Te?Symbol.for("react.forward_ref"):60112,Ve=Te?Symbol.for("react.suspense"):60113,qe=Te?Symbol.for("react.suspense_list"):60120,ze=Te?Symbol.for("react.memo"):60115,Ke=Te?Symbol.for("react.lazy"):60116,Ge=Te?Symbol.for("react.block"):60121,Je=Te?Symbol.for("react.fundamental"):60117,Ye=Te?Symbol.for("react.responder"):60118,Qe=Te?Symbol.for("react.scope"):60119;function Xe(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case je:switch(e=e.type){case We:case Ne:case Ue:case Be:case Le:case Ve:return e;default:switch(e=e&&e.$$typeof){case Fe:case He:case Ke:case ze:case De:return e;default:return t}}case ke:return t}}}function Ze(e){return Xe(e)===Ne}Me.AsyncMode=We,Me.ConcurrentMode=Ne,Me.ContextConsumer=Fe,Me.ContextProvider=De,Me.Element=je,Me.ForwardRef=He,Me.Fragment=Ue,Me.Lazy=Ke,Me.Memo=ze,Me.Portal=ke,Me.Profiler=Be,Me.StrictMode=Le,Me.Suspense=Ve,Me.isAsyncMode=function(e){return Ze(e)||Xe(e)===We},Me.isConcurrentMode=Ze,Me.isContextConsumer=function(e){return Xe(e)===Fe},Me.isContextProvider=function(e){return Xe(e)===De},Me.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===je},Me.isForwardRef=function(e){return Xe(e)===He},Me.isFragment=function(e){return Xe(e)===Ue},Me.isLazy=function(e){return Xe(e)===Ke},Me.isMemo=function(e){return Xe(e)===ze},Me.isPortal=function(e){return Xe(e)===ke},Me.isProfiler=function(e){return Xe(e)===Be},Me.isStrictMode=function(e){return Xe(e)===Le},Me.isSuspense=function(e){return Xe(e)===Ve},Me.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Ue||e===Ne||e===Be||e===Le||e===Ve||e===qe||"object"==typeof e&&null!==e&&(e.$$typeof===Ke||e.$$typeof===ze||e.$$typeof===De||e.$$typeof===Fe||e.$$typeof===He||e.$$typeof===Je||e.$$typeof===Ye||e.$$typeof===Qe||e.$$typeof===Ge)},Me.typeOf=Xe;var et=_e.exports=Me,tt={};tt[et.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tt[et.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function rt(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var ot=r.createContext||function(e,t){var n,o,a,i="__create-react-context-"+((nt[a="__global_unique_id__"]=(nt[a]||0)+1)+"__"),c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=rt(t.props.value),t}I(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)?(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[i]=R.exports.object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}I(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((o={})[i]=R.exports.object,o),{Provider:c,Consumer:s}},at=function(e){var t=ot();return t.displayName=e,t},it=at("Router-History"),ct=at("Router"),st=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}I(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return r.createElement(ct.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(it.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);r.Component,r.Component;var lt={},ut=0;function ft(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,c=void 0!==i&&i,s=n.sensitive,l=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=lt[n]||(lt[n]={});if(r[e])return r[e];var o=[],a={regexp:Q.exports(e,o,t),keys:o};return ut<1e4&&(r[e]=a,ut++),a}(n,{end:a,strict:c,sensitive:l}),o=r.regexp,i=r.keys,s=o.exec(e);if(!s)return null;var u=s[0],f=s.slice(1),p=e===u;return a&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:i.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var pt=function(e){function t(){return e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){var e=this;return r.createElement(ct.Consumer,null,(function(t){t||k(!1);var n=e.props.location||t.location,o=Y({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ft(n.pathname,e.props):t.match}),a=e.props,i=a.children,c=a.component,s=a.render;return Array.isArray(i)&&function(e){return 0===r.Children.count(e)}(i)&&(i=null),r.createElement(ct.Provider,{value:o},o.match?i?"function"==typeof i?i(o):i:c?r.createElement(c,o):s?s(o):null:"function"==typeof i?i(o):null)}))},t}(r.Component);r.Component;var mt=function(e){function t(){return e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){var e=this;return r.createElement(ct.Consumer,null,(function(t){t||k(!1);var n,o,a=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==o&&r.isValidElement(e)){n=e;var i=e.props.path||e.props.from;o=i?ft(a.pathname,Y({},e.props,{path:i})):t.match}})),o?r.cloneElement(n,{location:a,computedMatch:o}):null}))},t}(r.Component);function ht(e,t){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ht(e,t)}function dt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ht(e,t)}function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}r.useContext,r.Component;var gt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=J(t.props),t}return dt(t,e),t.prototype.render=function(){return r.createElement(st,{history:this.history,children:this.props.children})},t}(r.Component),bt=function(e,t){return"function"==typeof e?e(t):e},xt=function(e,t){return"string"==typeof e?W(e,null,null,t):e},wt=function(e){return e},Et=r.forwardRef;void 0===Et&&(Et=wt);var Ot=Et((function(e,t){var n=e.innerRef,o=e.navigate,a=e.onClick,i=vt(e,["innerRef","navigate","onClick"]),c=i.target,s=yt({},i,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return s.ref=wt!==Et&&t||n,r.createElement("a",s)})),St=Et((function(e,t){var n=e.component,o=void 0===n?Ot:n,a=e.replace,i=e.to,c=e.innerRef,s=vt(e,["component","replace","to","innerRef"]);return r.createElement(ct.Consumer,null,(function(e){e||k(!1);var n=e.history,l=xt(bt(i,e.location),e.location),u=l?n.createHref(l):"",f=yt({},s,{href:u,navigate:function(){var t=bt(i,e.location),r=F(e.location)===F(xt(t));(a||r?n.replace:n.push)(t)}});return wt!==Et?f.ref=t||c:f.innerRef=c,r.createElement(o,f)}))})),Ct=function(e){return e},Pt=r.forwardRef;void 0===Pt&&(Pt=Ct),Pt((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,a=e.activeClassName,i=void 0===a?"active":a,c=e.activeStyle,s=e.className,l=e.exact,u=e.isActive,f=e.location,p=e.sensitive,m=e.strict,h=e.style,d=e.to,y=e.innerRef,v=vt(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(ct.Consumer,null,(function(e){e||k(!1);var n=f||e.location,a=xt(bt(d,n),n),g=a.pathname,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?ft(n.pathname,{path:b,exact:l,sensitive:p,strict:m}):null,w=!!(u?u(x,n):x),E="function"==typeof s?s(w):s,O="function"==typeof h?h(w):h;w&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,i),O=yt({},O,c));var S=yt({"aria-current":w&&o||null,className:E,style:O,to:a},v);return Ct!==Pt?S.ref=t||y:S.innerRef=y,r.createElement(St,S)}))}));const It=i,Rt=s("SHOW_EDIT_DIALOG"),$t=s("SHOW_PREVIEW_DIALOG");var At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},At.apply(this,arguments)};var _t=function(r){var o="/studio/api/2/plugin/script/plugins/org/rd/plugin/trellowf/trellowf",a=i((e=>e.sites.active)),c=e.useState(!1),s=c[0],l=c[1],u=t({items:null}),P=u[0],I=u[1],R=function(){var e="".concat(o,"/admin/list-hooks.json?siteId=").concat(a);C(e).subscribe({next:function(e){I(At(At({},P),{items:e.response.result}))},error:function(e){console.error(e)}})},$=function(e){!function(e){var t="".concat(o,"/admin/delete-hook.json?siteId=").concat(a,"&id=").concat(e);C(t).subscribe({next:function(e){R()},error:function(e){console.error(e)}})}(e)};return n((function(){R()}),[]),e.createElement(e.Fragment,null,e.createElement("div",{style:{textAlign:"center",margin:"50px auto"}},e.createElement("img",{style:{width:"300px"},src:"/studio/static-assets/images/content_creation.svg"}),e.createElement("h1",null,"CrafterCMS ❤ Trello"),e.createElement(f,null,P.items&&Object.values(P.items).map((function(t,n){return e.createElement(p,{secondaryAction:e.createElement(b,{edge:"end","aria-label":"delete",onClick:function(){$(t.id)}},e.createElement(x,null))},e.createElement(w,null,e.createElement(O,{color:"blue"},e.createElement(S,null))),e.createElement(E,{primary:t.description,secondary:t.callbackURL}))})))," "),e.createElement(m,{open:s,"aria-describedby":"alert-dialog-slide-description"},e.createElement(h,null,"Add Hook"),e.createElement(d,null,e.createElement(y,{id:"hook-description",label:"Hook Description",variant:"outlined"})),e.createElement(v,null,e.createElement(g,{onClick:function(){l(!1)}},"Cancel"),e.createElement(g,{onClick:function(e){document.getElementById("hook-description"),alert("This operation is not supported at this time. Hooks are automatically added for each board."),l(!1)}},"Add"))))};function Mt(t){return e.createElement(_t,null)}function Tt(t){return e.createElement("div",{style:{textAlign:"center",margin:"50px auto"}},e.createElement("img",{src:"/studio/static-assets/images/content_creation.svg"}),e.createElement("h1",null,"CrafterCMS ❤ Trello"),e.createElement("h3",null,t.message))}function jt(r){r.match.params;var o=r.location.search,a=new URLSearchParams(o),i=a.get("contentId"),s=a.get("siteId"),f=c(),p=It((function(e){return e.env.authoringBase})),m=t("We are processing your request :)"),h=m[0],d=m[1],y=t(null);y[0];var v=y[1];return s&&i?n((function(){var e={siteId:s,contentId:i,authoringBase:p,setStatusMessage:d,dispatch:f};u(s,i,{castAsDetailedItem:!0}).subscribe({next:function(t){v(t),function(e,t){var n=t.siteId,r=t.contentId,o=t.authoringBase,a=t.setStatusMessage,i=t.dispatch;if("page"===e.systemType){var c=r.replace("/site/website/","").replace("index.xml","").replace(".xml",".html");window.location.href="/studio/preview#/?page="+c+"&site="+n}else"component"===e.systemType||"levelDescriptor"===e.systemType?i(Rt({site:n,path:r,authoringBase:o,readonly:!0})):"asset"===e.systemType?l(e)?i($t({site:n,type:"image",url:r,authoringBase:o})):r.endsWith(".mp4")?i($t({site:n,type:"video",url:r,authoringBase:o})):i($t({site:n,type:"editor",url:r,authoringBase:o})):a("Oops, we don't know how to preview this type of content item.")}(t,e)},error:function(){d("Oops! We can't find the content you are looking for.")}})}),[s,i,p,d,f]):d("siteId and contentId are required parameters for preview."),e.createElement(Tt,{message:h})}function kt(){return e.createElement(e.Fragment,null,e.createElement(Tt,{message:"OOPS! We don't recognize your request"}))}var Ut=document.createElement("div"),Lt=o(Ut);document.body.appendChild(Ut),Lt.render(e.createElement(a,null,e.createElement((function(){return e.createElement(gt,null,e.createElement(mt,null,e.createElement(pt,{path:"/preview/:arg1?",component:jt}),e.createElement(pt,{path:"/hooks",component:Mt}),e.createElement(pt,{path:"/",exact:!0,component:kt})))}),null)));
