const e=craftercms.libs.React,t=craftercms.libs.React&&Object.prototype.hasOwnProperty.call(craftercms.libs.React,"default")?craftercms.libs.React.default:craftercms.libs.React,{createRoot:n}=craftercms.libs.ReactDOMClient,{CrafterCMSNextBridge:r}=craftercms.components,{createAction:o}=craftercms.libs.ReduxToolkit;function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var c={exports:{}};function s(){}function u(){}u.resetWarningCache=s;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function l(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}c.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:s};return n.PropTypes=n,n}();var h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function m(e){return"/"===e.charAt(0)?e:"/"+e}function y(e){return"/"===e.charAt(0)?e.substr(1):e}function v(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function w(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=f({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&l(e),a=t&&l(t),c=i||a;if(e&&l(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var s=o[o.length-1];n="."===s||".."===s||""===s}else n=!1;for(var u=0,f=o.length;f>=0;f--){var h=o[f];"."===h?p(o,f):".."===h?(p(o,f),u++):u&&(p(o,f),u--)}if(!c)for(;u--;u)o.unshift("..");!c||""===o[0]||o[0]&&l(o[0])||o.unshift("");var d=o.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var S=!("undefined"==typeof window||!window.document||!window.document.createElement);function E(e,t){t(window.confirm(e))}var O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+y(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:y,decodePath:m},slash:{encodePath:m,decodePath:m}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function $(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(C(window.location.href)+"#"+e)}function _(e){void 0===e&&(e={}),S||d(!1);var t=window.history;window.navigator.userAgent.indexOf("Firefox");var n=e,r=n.getUserConfirmation,o=void 0===r?E:r,i=n.hashType,a=void 0===i?"slash":i,c=e.basename?g(m(e.basename)):"",s=O[a],u=s.encodePath,l=s.decodePath;function p(){var e=l($());return c&&(e=v(e,c)),w(e)}var h=x();function y(e){f(F,e),F.length=t.length,h.notifyListeners(F.location,F.action)}var _=!1,R=null;function A(){var e=$(),t=u(e);if(e!==t)P(t);else{var n=p(),r=F.location;if(!_&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(R===b(n))return;R=null,function(e){if(_)_=!1,y();else{var t="POP";h.confirmTransitionTo(e,t,o,(function(n){n?y({action:t,location:e}):function(e){var t=F.location,n=k.lastIndexOf(b(t));-1===n&&(n=0);var r=k.lastIndexOf(b(e));-1===r&&(r=0);var o=n-r;o&&(_=!0,L(o))}(e)}))}}(n)}}var T=$(),j=u(T);T!==j&&P(j);var M=p(),k=[b(M)];function L(e){t.go(e)}var I=0;function U(e){1===(I+=e)&&1===e?window.addEventListener("hashchange",A):0===I&&window.removeEventListener("hashchange",A)}var B=!1;var F={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+u(c+b(e))},push:function(e,t){var n="PUSH",r=w(e,void 0,void 0,F.location);h.confirmTransitionTo(r,n,o,(function(e){if(e){var t=b(r),o=u(c+t);if($()!==o){R=t,function(e){window.location.hash=e}(o);var i=k.lastIndexOf(b(F.location)),a=k.slice(0,i+1);a.push(t),k=a,y({action:n,location:r})}else y()}}))},replace:function(e,t){var n="REPLACE",r=w(e,void 0,void 0,F.location);h.confirmTransitionTo(r,n,o,(function(e){if(e){var t=b(r),o=u(c+t);$()!==o&&(R=t,P(o));var i=k.indexOf(b(F.location));-1!==i&&(k[i]=t),y({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return B||(U(1),B=!0),function(){return B&&(B=!1,U(-1)),t()}},listen:function(e){var t=h.appendListener(e);return U(1),function(){U(-1),t()}}};return F}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}var A={exports:{}},T=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};A.exports=N,A.exports.parse=M,A.exports.compile=function(e,t){return L(M(e,t),t)},A.exports.tokensToFunction=L,A.exports.tokensToRegExp=W;var j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(e,t){for(var n,r=[],o=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=j.exec(e));){var s=n[0],u=n[1],f=n.index;if(a+=e.slice(i,f),i=f+s.length,u)a+=u[1];else{var l=e[i],p=n[2],h=n[3],d=n[4],m=n[5],y=n[6],v=n[7];a&&(r.push(a),a="");var g=null!=p&&null!=l&&l!==p,b="+"===y||"*"===y,w="?"===y||"*"===y,x=n[2]||c,S=d||m;r.push({name:h||o++,prefix:p||"",delimiter:x,optional:w,repeat:b,partial:g,asterisk:!!v,pattern:S?U(S):v?".*":"[^"+I(x)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function k(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function L(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",F(t)));return function(t,r){for(var o="",i=t||{},a=(r||{}).pretty?k:encodeURIComponent,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var u,f=i[s.name];if(null==f){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(T(f)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var l=0;l<f.length;l++){if(u=a(f[l]),!n[c].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===l?s.prefix:s.delimiter)+u}}else{if(u=s.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(f),!n[c].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');o+=s.prefix+u}}else o+=s}return o}}function I(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function U(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function B(e,t){return e.keys=t,e}function F(e){return e&&e.sensitive?"":"i"}function W(e,t,n){T(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=I(c);else{var s=I(c.prefix),u="(?:"+c.pattern+")";t.push(c),c.repeat&&(u+="(?:"+s+u+")*"),i+=u=c.optional?c.partial?s+"("+u+")?":"(?:"+s+"("+u+"))?":s+"("+u+")"}}var f=I(n.delimiter||"/"),l=i.slice(-f.length)===f;return r||(i=(l?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=o?"$":r&&l?"":"(?="+f+"|$)",B(new RegExp("^"+i,F(n)),t)}function N(e,t,n){return T(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return B(e,t)}(e,t):T(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(N(e[o],t,n).source);return B(new RegExp("(?:"+r.join("|")+")",F(n)),t)}(e,t,n):function(e,t,n){return W(M(e,n),t,n)}(e,t,n)}var D={},q="function"==typeof Symbol&&Symbol.for,z=q?Symbol.for("react.element"):60103,V=q?Symbol.for("react.portal"):60106,H=q?Symbol.for("react.fragment"):60107,K=q?Symbol.for("react.strict_mode"):60108,G=q?Symbol.for("react.profiler"):60114,J=q?Symbol.for("react.provider"):60109,Y=q?Symbol.for("react.context"):60110,Q=q?Symbol.for("react.async_mode"):60111,X=q?Symbol.for("react.concurrent_mode"):60111,Z=q?Symbol.for("react.forward_ref"):60112,ee=q?Symbol.for("react.suspense"):60113,te=q?Symbol.for("react.suspense_list"):60120,ne=q?Symbol.for("react.memo"):60115,re=q?Symbol.for("react.lazy"):60116,oe=q?Symbol.for("react.block"):60121,ie=q?Symbol.for("react.fundamental"):60117,ae=q?Symbol.for("react.responder"):60118,ce=q?Symbol.for("react.scope"):60119;function se(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case z:switch(e=e.type){case Q:case X:case H:case G:case K:case ee:return e;default:switch(e=e&&e.$$typeof){case Y:case Z:case re:case ne:case J:return e;default:return t}}case V:return t}}}function ue(e){return se(e)===X}D.AsyncMode=Q,D.ConcurrentMode=X,D.ContextConsumer=Y,D.ContextProvider=J,D.Element=z,D.ForwardRef=Z,D.Fragment=H,D.Lazy=re,D.Memo=ne,D.Portal=V,D.Profiler=G,D.StrictMode=K,D.Suspense=ee,D.isAsyncMode=function(e){return ue(e)||se(e)===Q},D.isConcurrentMode=ue,D.isContextConsumer=function(e){return se(e)===Y},D.isContextProvider=function(e){return se(e)===J},D.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===z},D.isForwardRef=function(e){return se(e)===Z},D.isFragment=function(e){return se(e)===H},D.isLazy=function(e){return se(e)===re},D.isMemo=function(e){return se(e)===ne},D.isPortal=function(e){return se(e)===V},D.isProfiler=function(e){return se(e)===G},D.isStrictMode=function(e){return se(e)===K},D.isSuspense=function(e){return se(e)===ee},D.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===H||e===X||e===G||e===K||e===ee||e===te||"object"==typeof e&&null!==e&&(e.$$typeof===re||e.$$typeof===ne||e.$$typeof===J||e.$$typeof===Y||e.$$typeof===Z||e.$$typeof===ie||e.$$typeof===ae||e.$$typeof===ce||e.$$typeof===oe)},D.typeOf=se;var fe={exports:{}},le={},pe="function"==typeof Symbol&&Symbol.for,he=pe?Symbol.for("react.element"):60103,de=pe?Symbol.for("react.portal"):60106,me=pe?Symbol.for("react.fragment"):60107,ye=pe?Symbol.for("react.strict_mode"):60108,ve=pe?Symbol.for("react.profiler"):60114,ge=pe?Symbol.for("react.provider"):60109,be=pe?Symbol.for("react.context"):60110,we=pe?Symbol.for("react.async_mode"):60111,xe=pe?Symbol.for("react.concurrent_mode"):60111,Se=pe?Symbol.for("react.forward_ref"):60112,Ee=pe?Symbol.for("react.suspense"):60113,Oe=pe?Symbol.for("react.suspense_list"):60120,Ce=pe?Symbol.for("react.memo"):60115,$e=pe?Symbol.for("react.lazy"):60116,Pe=pe?Symbol.for("react.block"):60121,_e=pe?Symbol.for("react.fundamental"):60117,Re=pe?Symbol.for("react.responder"):60118,Ae=pe?Symbol.for("react.scope"):60119;function Te(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case he:switch(e=e.type){case we:case xe:case me:case ve:case ye:case Ee:return e;default:switch(e=e&&e.$$typeof){case be:case Se:case $e:case Ce:case ge:return e;default:return t}}case de:return t}}}function je(e){return Te(e)===xe}le.AsyncMode=we,le.ConcurrentMode=xe,le.ContextConsumer=be,le.ContextProvider=ge,le.Element=he,le.ForwardRef=Se,le.Fragment=me,le.Lazy=$e,le.Memo=Ce,le.Portal=de,le.Profiler=ve,le.StrictMode=ye,le.Suspense=Ee,le.isAsyncMode=function(e){return je(e)||Te(e)===we},le.isConcurrentMode=je,le.isContextConsumer=function(e){return Te(e)===be},le.isContextProvider=function(e){return Te(e)===ge},le.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===he},le.isForwardRef=function(e){return Te(e)===Se},le.isFragment=function(e){return Te(e)===me},le.isLazy=function(e){return Te(e)===$e},le.isMemo=function(e){return Te(e)===Ce},le.isPortal=function(e){return Te(e)===de},le.isProfiler=function(e){return Te(e)===ve},le.isStrictMode=function(e){return Te(e)===ye},le.isSuspense=function(e){return Te(e)===Ee},le.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===me||e===xe||e===ve||e===ye||e===Ee||e===Oe||"object"==typeof e&&null!==e&&(e.$$typeof===$e||e.$$typeof===Ce||e.$$typeof===ge||e.$$typeof===be||e.$$typeof===Se||e.$$typeof===_e||e.$$typeof===Re||e.$$typeof===Ae||e.$$typeof===Pe)},le.typeOf=Te;var Me=fe.exports=le,ke={};ke[Me.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ke[Me.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function Ie(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Ue=t.createContext||function(e,n){var r,o,i,s="__create-react-context-"+((Le[i="__global_unique_id__"]=(Le[i]||0)+1)+"__"),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=Ie(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,o=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)?(t="function"==typeof n?n(r,o):1073741823,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[s]=c.exports.object.isRequired,r);var f=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return f.contextTypes=((o={})[s]=c.exports.object,o),{Provider:u,Consumer:f}},Be=function(e){var t=Ue();return t.displayName=e,t},Fe=Be("Router-History"),We=Be("Router"),Ne=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(We.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Fe.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component,t.Component;var De={},qe=0;function ze(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,c=void 0!==a&&a,s=n.sensitive,u=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=De[n]||(De[n]={});if(r[e])return r[e];var o=[],i={regexp:A.exports(e,o,t),keys:o};return qe<1e4&&(r[e]=i,qe++),i}(n,{end:i,strict:c,sensitive:u}),o=r.regexp,a=r.keys,s=o.exec(e);if(!s)return null;var f=s[0],l=s.slice(1),p=e===f;return i&&!p?null:{path:n,url:"/"===n&&""===f?"/":f,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=l[n],e}),{})}}),null)}var Ve=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(We.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,o=R({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ze(r.pathname,e.props):n.match}),i=e.props,a=i.children,c=i.component,s=i.render;return Array.isArray(a)&&function(e){return 0===t.Children.count(e)}(a)&&(a=null),t.createElement(We.Provider,{value:o},o.match?a?"function"==typeof a?a(o):a:c?t.createElement(c,o):s?s(o):null:"function"==typeof a?a(o):null)}))},n}(t.Component);t.Component;var He=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(We.Consumer,null,(function(n){n||d(!1);var r,o,i=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==o&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;o=a?ze(i.pathname,R({},e.props,{path:a})):n.match}})),o?t.cloneElement(r,{location:i,computedMatch:o}):null}))},n}(t.Component);function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ke(e,t)}function Ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ke(e,t)}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}t.useContext,t.Component;var Qe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=_(t.props),t}return Ge(n,e),n.prototype.render=function(){return t.createElement(Ne,{history:this.history,children:this.props.children})},n}(t.Component),Xe=function(e,t){return"function"==typeof e?e(t):e},Ze=function(e,t){return"string"==typeof e?w(e,null,null,t):e},et=function(e){return e},tt=t.forwardRef;void 0===tt&&(tt=et);var nt=tt((function(e,n){var r=e.innerRef,o=e.navigate,i=e.onClick,a=Ye(e,["innerRef","navigate","onClick"]),c=a.target,s=Je({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return s.ref=et!==tt&&n||r,t.createElement("a",s)})),rt=tt((function(e,n){var r=e.component,o=void 0===r?nt:r,i=e.replace,a=e.to,c=e.innerRef,s=Ye(e,["component","replace","to","innerRef"]);return t.createElement(We.Consumer,null,(function(e){e||d(!1);var r=e.history,u=Ze(Xe(a,e.location),e.location),f=u?r.createHref(u):"",l=Je({},s,{href:f,navigate:function(){var t=Xe(a,e.location),n=b(e.location)===b(Ze(t));(i||n?r.replace:r.push)(t)}});return et!==tt?l.ref=n||c:l.innerRef=c,t.createElement(o,l)}))})),ot=function(e){return e},it=t.forwardRef;void 0===it&&(it=ot),it((function(e,n){var r=e["aria-current"],o=void 0===r?"page":r,i=e.activeClassName,a=void 0===i?"active":i,c=e.activeStyle,s=e.className,u=e.exact,f=e.isActive,l=e.location,p=e.sensitive,h=e.strict,m=e.style,y=e.to,v=e.innerRef,g=Ye(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(We.Consumer,null,(function(e){e||d(!1);var r=l||e.location,i=Ze(Xe(y,r),r),b=i.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?ze(r.pathname,{path:w,exact:u,sensitive:p,strict:h}):null,S=!!(f?f(x,r):x),E="function"==typeof s?s(S):s,O="function"==typeof m?m(S):m;S&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,a),O=Je({},O,c));var C=Je({"aria-current":S&&o||null,className:E,style:O,to:i},g);return ot!==it?C.ref=n||v:C.innerRef=v,t.createElement(rt,C)}))}));const at=o("SHOW_EDIT_DIALOG"),ct=o("SHOW_PREVIEW_DIALOG");function st(t){return e.createElement("div",{style:{textAlign:"center",margin:"50px auto"}},e.createElement("img",{src:"/studio/static-assets/images/content_creation.svg"}),e.createElement("h1",null,"CrafterCMS ❤ Trello"),e.createElement("h3",null,t.message))}function ut(t){t.match.params;var n=t.location.search,r=new URLSearchParams(n),o=r.get("contentId"),i=r.get("siteId");if(-1!=o.indexOf("/site/website/")&&-1==o.indexOf(".level.xml")){var a=o.replace("/site/website/","").replace("index.xml","").replace(".xml",".html");window.location.href="/studio/preview#/?page="+a+"&site="+i}else{if(-1!=o.indexOf("/site/"))return window.craftercms.getStore().dispatch(at({site:"t5",path:o,authoringBase:window.craftercms.getStore().getState().env.authoringBase,readonly:!0})),e.createElement(st,{message:"We are processing your preview request"});if(-1==o.indexOf("/static-assets/"))return e.createElement(st,{message:"OOPS! We don't recognize your preview request"});if(-1!=o.indexOf(".png")||-1!=o.indexOf(".gif")||-1!=o.indexOf(".jpg")||-1!=o.indexOf(".jpeg")||-1!=o.indexOf(".svg")||-1!=o.indexOf(".webp"))return window.craftercms.getStore().dispatch(ct({site:i,type:"image",url:o,authoringBase:window.craftercms.getStore().getState().env.authoringBase})),e.createElement(st,{message:"We are processing your preview request"});-1!=o.indexOf(".mp4")?window.craftercms.getStore().dispatch(ct({site:i,type:"video",url:o,authoringBase:window.craftercms.getStore().getState().env.authoringBase})):window.craftercms.getStore().dispatch(ct({site:i,type:"editor",url:o,authoringBase:window.craftercms.getStore().getState().env.authoringBase}))}}function ft(){return e.createElement(e.Fragment,null,e.createElement(st,{message:"OOPS! We don't recognize your request"}))}var lt=document.createElement("div"),pt=n(lt);document.body.appendChild(lt),pt.render(e.createElement(r,null,e.createElement((function(){return e.createElement(Qe,null,e.createElement(He,null,e.createElement(Ve,{path:"/preview/:arg1?",component:ut}),e.createElement(Ve,{path:"/",exact:!0,component:ft})))}),null)));
